<!-- Load Google Maps API just for this page -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHtprhvaEA82h11n8JFJGO3U9ONOc9mS4"></script>

<div class="map-nav">
  <ul>
    <li><a id="north-america" href="#">North America</a></li>
    <li><a id="europe" href="#">Europe</a></li>
    <li><a id="asia" href="#">Asia</a></li>
  </ul>
</div>

<!-- Map is embedded here-->
<div class="map-container">
  <div id="map">
  </div>
</div>

<script type="text/javascript">

  function initialize() {

    /**
     * The main options for the map.
     */
    var options = {
      center: { lat: 52.5167, lng: 13.3833 },
      zoom: 5,
      disableDefaultUI: true,
      scrollwheel: false
    };

    /**
     * The custom styles for the map.
     */
    var styles = [
      {
        "featureType" : "all",
        "elementType" : "labels.text.fill",
        "stylers" : [
          { "color" : "#FFD700" },
          { "weight" : "0.20" },
          { "lightness" : "28" },
          { "saturation" : "23"},
          { "visibility" : "off" }
        ]
      },
      {
        "featureType" : "all",
        "elementType" : "labels.text.stroke",
        "stylers" : [
          { "color" : "#000000" },
          { "lightness" : 5 },
          { "visibility" : "off" }
        ]
      },
      {
        "featureType" : "all",
        "elementType" : "labels.icon",
        "stylers" : [
          { "visibility" : "off" }
        ]
      },
      {
        "featureType" : "administrative",
        "elementType" : "geometry.fill",
        "stylers" : [
          { "color" : "#000000" }
        ]
      },
      {
        "featureType" : "administrative",
        "elementType" : "geometry.stroke",
        "stylers" : [
          { "color" : "#200000" },
          { "lightness" : 14 },
          { "weight" : 1.4 }
        ]
      },
      {
        "featureType" : "landscape",
        "elementType" : "all",
        "stylers" : [
          { "color" : "#500000" }
        ]
      },
      {
        "featureType" : "poi",
        "elementType" : "geometry",
        "stylers" : [
          { "color" : "#600000" },
          { "lightness" : 5 }
        ]
      },
      {
        "featureType" : "road.highway",
        "elementType" : "geometry.fill",
        "stylers" : [
          { "color" : "#000000" }
        ]
      },
      {
        "featureType" : "road.highway",
        "elementType" : "geometry.stroke",
        "stylers" : [
          { "color" : "#830000" },
          { "lightness" : 25 }
        ]
      },
      {
        "featureType" : "road.arterial",
        "elementType" : "geometry.fill",
        "stylers" : [
          { "color" : "#000000" }
        ]
      },
      {
        "featureType" : "road.arterial",
        "elementType" : "geometry.stroke",
        "stylers" : [
          { "color" : "#830000" },
          { "lightness" : 16 }
        ]
      },
      {
        "featureType" : "road.local",
        "elementType" : "geometry",
        "stylers" : [
          { "color" : "#000000" }
        ]
      },
      {
        "featureType" : "transit",
        "elementType" : "all",
        "stylers" : [
          { "color" : "#830000" }
        ]
      },
      {
        "featureType" : "water",
        "elementType" : "all",
        "stylers" : [
          { "color" : "#300000" }
        ]
      }
    ];

    var map = new google.maps.Map($("#map").get(0), options);
    map.setOptions({ styles: styles });

    /**
     * Create the marker for Berlin.
     */
    var berlin = new google.maps.Marker({
      position : new google.maps.LatLng(52.5167, 13.3833),
      map : map,
      // Create icon: /images/berlin.png....
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(berlin, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/berlin" %>";
    });

    /**
     * Create the marker for London.
     */
    var london = new google.maps.Marker({
      position : new google.maps.LatLng(51.5072, 0.1275),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(london, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/london" %>";
    });

    /**
     * Create the marker for Amsterdam.
     */
    var amsterdam = new google.maps.Marker({
      position : new google.maps.LatLng(52.3667, 4.9000),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(amsterdam, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/amsterdam" %>";
    });

    /**
     * Create the marker for New York.
     */
    var newYork = new google.maps.Marker({
      position : new google.maps.LatLng(40.7127, -74.0059),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(newYork, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/new-york" %>";
    });

    /**
     * Create the marker for Hamburg.
     */
    var hamburg = new google.maps.Marker({
      position : new google.maps.LatLng(53.5653, 10.0014),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(hamburg, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/hamburg" %>";
    });

    /**
     * Create the marker for Munich.
     */
    var munich = new google.maps.Marker({
      position : new google.maps.LatLng(48.1333, 11.5667),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(munich, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/munich" %>";
    });

    /**
     * Create the marker for Vienna.
     */
    var vienna = new google.maps.Marker({
      position : new google.maps.LatLng(48.2000, 16.3667),
      map : map,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillOpacity: 0.6,
        fillColor: "#FFD700",
        strokeOpacity: 1.0,
        strokeColor: "#FFD700",
        strokeWeight: 1.0,
        scale: 7
      }
    });
    google.maps.event.addListener(vienna, "click", function() {
      window.location.href = "<%= "/#{I18n.locale}/vienna" %>";
    });

    var northAmerica = $("a#north-america").get(0);
    var europe = $("a#europe").get(0);
    var asia = $("a#asia").get(0);

    google.maps.event.addDomListener(northAmerica, "click", function() {
      map.setCenter(newYork.getPosition());
    });

    google.maps.event.addDomListener(europe, "click", function() {
      map.setCenter(berlin.getPosition());
    });
  }

  google.maps.event.addDomListener(window, 'load', initialize);
</script>
